

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Image Utils &mdash; Neural Network Libraries 1.0.18 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Data Iterators" href="data_iterator.html" />
    <link rel="prev" title="NNP save and load utilities" href="save_load.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Neural Network Libraries
          

          
          </a>

          
            
            
              <div class="version">
                1.0.18
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../python.html">Python Package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../installation.html">Python Package Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial.html">Python API Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../command_line_interface.html">Python Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html">Python API Examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../api.html">Python API Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../common.html">Common</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nd_array.html">NdArray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../variable.html">Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../function.html">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parametric_function.html">Parametric Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../solver.html">Solvers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../communicator.html">Communicator API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitor.html">Monitors</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../utils.html">Utils</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="save_load.html">NNP save and load utilities</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Image Utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_iterator.html">Data Iterators</a></li>
<li class="toctree-l4"><a class="reference internal" href="profiling.html">Profiling</a></li>
<li class="toctree-l4"><a class="reference internal" href="misc.html">Misc</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ext.html">Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../models.html">Pretrained Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../experimental.html">Experimental</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpp.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_exchange_file_format.html">Data exchange file format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../format.html">Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../file_format_converter/file_format_converter.html">File format converter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Neural Network Libraries</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../python.html">Python Package</a> &raquo;</li>
        
          <li><a href="../../api.html">Python API Reference</a> &raquo;</li>
        
          <li><a href="../utils.html">Utils</a> &raquo;</li>
        
      <li>Image Utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/python/api/utils/image_utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="image-utils">
<h1>Image Utils<a class="headerlink" href="#image-utils" title="Permalink to this headline">¶</a></h1>
<p>This module provides read, write and resize functions for images. The backends of these functions are automatically changed, depending on the user`s environment.
The priority of the backends is as below (upper is higher priority):</p>
<blockquote>
<div><ul class="simple">
<li>OpenCV (cv2)</li>
<li>scikit-image (skimage)</li>
<li>pillow (PIL) (need to be installed)</li>
</ul>
</div></blockquote>
<p>At least one of these modules needs to be installed to use this module.</p>
<span class="target" id="module-nnabla.utils.image_utils"></span><dl class="function">
<dt id="nnabla.utils.image_utils.imread">
<code class="descclassname">nnabla.utils.image_utils.</code><code class="descname">imread</code><span class="sig-paren">(</span><em>path</em>, <em>grayscale=False</em>, <em>size=None</em>, <em>interpolate='bilinear'</em>, <em>channel_first=False</em>, <em>as_uint16=False</em>, <em>num_channels=-1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/nnabla/utils/image_utils.html#imread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nnabla.utils.image_utils.imread" title="Permalink to this definition">¶</a></dt>
<dd><p>Read image from <code class="docutils literal notranslate"><span class="pre">path</span></code>.
If you specify the <code class="docutils literal notranslate"><span class="pre">size</span></code>, the output array is resized.
Default output shape is (height, width, channel) for RGB image and (height, width) for gray-scale image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>String</em><em> or </em><em>File Object</em>) – Input image path.</li>
<li><strong>grayscale</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, the img is rescaled to gray-scale. Default is False.</li>
<li><strong>size</strong> (<em>tuple of int</em>) – Output shape. The order is (width, height). If None, the image is not resized. Default is None.</li>
<li><strong>interpolate</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>Interpolation method.
This argument is depend on the backend.
If you want to specify this argument, you should pay much attention to which backend you use now.
What you can select is below:</p>
<blockquote>
<div><ul>
<li>pil backend: [“nearest”, “box”, “bilinear”, “hamming”, “bicubic”, “lanczos”].</li>
<li>cv2 backend: [“nearest”, “bilinear”, “bicubic”, “lanczos”].</li>
</ul>
</div></blockquote>
<p>Default is “bilinear” for both backends.</p>
</li>
<li><strong>channel_first</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, the shape of the output array is (channel, height, width) for RGB image. Default is False.</li>
<li><strong>as_uint16</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, this function tries to read img as np.uint16. Default is False.</li>
<li><strong>num_channels</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – channel size of output array.
Default is -1 which preserves raw image shape.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">if as_uint16=True output dtype is np.uint16, else np.uint8 (default).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)">numpy.ndarray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnabla.utils.image_utils.imsave">
<code class="descclassname">nnabla.utils.image_utils.</code><code class="descname">imsave</code><span class="sig-paren">(</span><em>path</em>, <em>img</em>, <em>channel_first=False</em>, <em>as_uint16=False</em>, <em>auto_scale=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/nnabla/utils/image_utils.html#imsave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nnabla.utils.image_utils.imsave" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <code class="docutils literal notranslate"><span class="pre">img</span></code> to the file specified by <code class="docutils literal notranslate"><span class="pre">path</span></code>.
As default, the shape of <code class="docutils literal notranslate"><span class="pre">img</span></code> has to be (height, width, channel).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Output path.</li>
<li><strong>img</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a>) – Input image.
All pixel values must be positive and in the range [0, 255] of int for uint8, [0, 65535] of int for uint16 or [0, 1] for float.
When you pass float image, you must set <code class="xref any docutils literal notranslate"><span class="pre">auto_scale</span></code> as True (If not, exception will be raised).
If img with negative values is passed as input, exception will be raised.</li>
<li><strong>channel_first</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, you can input the image whose shape is (channel, height, width). Default is False.</li>
<li><strong>as_uint16</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, cast image to uint16 before save. Default is False.</li>
<li><strong>auto_scale</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Whether the range of pixel values are scaled up or not.
The range of upscaled pixel values depends on output dtype, which is [0, 255] as uint8 and [0, 65535] as uint16.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nnabla.utils.image_utils.imresize">
<code class="descclassname">nnabla.utils.image_utils.</code><code class="descname">imresize</code><span class="sig-paren">(</span><em>img</em>, <em>size</em>, <em>interpolate='bilinear'</em>, <em>channel_first=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/nnabla/utils/image_utils.html#imresize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nnabla.utils.image_utils.imresize" title="Permalink to this definition">¶</a></dt>
<dd><p>Resize <code class="docutils literal notranslate"><span class="pre">img</span></code> to <code class="docutils literal notranslate"><span class="pre">size</span></code>.
As default, the shape of input image has to be (height, width, channel).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>img</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a>) – Input image.</li>
<li><strong>size</strong> (<em>tuple of int</em>) – Output shape. The order is (width, height).</li>
<li><strong>interpolate</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>Interpolation method.
This argument is depend on the backend.
If you want to specify this argument, you should pay much attention to which backend you use now.
What you can select is below:</p>
<blockquote>
<div><ul>
<li>pil backend: [“nearest”, “box”, “bilinear”, “hamming”, “bicubic”, “lanczos”].</li>
<li>cv2 backend: [“nearest”, “bilinear”, “bicubic”, “lanczos”].</li>
</ul>
</div></blockquote>
<p>Default is “bilinear” for both backends.</p>
</li>
<li><strong>channel_first</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, the shape of the output array is (channel, height, width) for RGB image. Default is False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data_iterator.html" class="btn btn-neutral float-right" title="Data Iterators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="save_load.html" class="btn btn-neutral float-left" title="NNP save and load utilities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Sony Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>